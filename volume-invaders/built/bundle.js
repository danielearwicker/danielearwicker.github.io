!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){"use strict";function i(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];r.move(i)?r.draw(t):(e.splice(n,1),n--)}}function n(t,e,i,n){for(var r=0;r<e.length;r++)for(var o=0;o<i.length;o++){var s=e[r].rect(),h=i[o].rect();if(!(s.left+s.width<h.left||s.left>h.left+h.width||s.top+s.height<h.top||s.top>h.top+h.height)&&n(e[r],i[o])){e.splice(r,1),i.splice(o,1),r--,o--;break}}}function r(t,e,i){var n=e.getContext("2d"),r=0,s=function(h){o(e),t.width=n.canvas.width,t.height=n.canvas.height,0!==r&&(t.elapsed=h-r,i(n)),r=h,requestAnimationFrame(s)};requestAnimationFrame(s)}function o(t){var e=t.parentElement.clientWidth;t.width!=e&&(t.width=e);var i=t.parentElement.clientHeight;t.height!=i&&(t.height=i)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.x=t,this.y=e}return t}();e.Sprite=s,e.renderSprites=i,e.hitTest=n,e.runSprites=r},function(t,e){"use strict";function i(t,e,i){return t<i.width&&t>0&&e<i.height&&e>0}Object.defineProperty(e,"__esModule",{value:!0}),e.withinBounds=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(1),h=20,a=function(t){function e(e){var i=t.call(this,Math.random()*e.width,1)||this;return i.up=Math.random()>.5,i.direction=Math.PI*Math.random(),i.speed=.3+.5*Math.random(),i}return r(e,t),e.prototype.move=function(t){this.direction+=.5*(Math.random()-.5);var e=t.elapsed*this.speed/5;return this.x+=Math.cos(this.direction)*e,this.y+=Math.sin(this.direction)*e,s.withinBounds(this.x,this.y,t)},e.prototype.rect=function(){return{left:this.x-h,top:this.y,width:2*h,height:h}},e.prototype.draw=function(t){t.beginPath(),t.moveTo(this.x-h,this.y+(this.up?h:0)),t.lineTo(this.x,this.y+(this.up?0:h)),t.lineTo(this.x+h,this.y+(this.up?h:0)),t.lineWidth=6,t.strokeStyle=this.up?"red":"blue",t.stroke()},e}(o.Sprite);e.Alien=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=20,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.move=function(t){return this.y-=t.elapsed,this.y>0},e.prototype.rect=function(){return{left:this.x-2,top:this.y-s,width:4,height:s}},e.prototype.draw=function(t){t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x,this.y-s),t.stroke()},e}(o.Sprite);e.Bullet=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(1),h=function(t){function e(e){var i=t.call(this,e.x,e.y)||this;return i.vx=10*(Math.random()-.5),i.vy=10*(Math.random()-.5),i}return r(e,t),e.prototype.move=function(t){return this.vy+=t.elapsed/100,this.x+=this.vx*t.elapsed/10,this.y+=this.vy*t.elapsed/10,s.withinBounds(this.x,this.y,t)},e.prototype.rect=function(){return{left:this.x,top:this.y,width:0,height:0}},e.prototype.draw=function(t){t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x+2*this.vx,this.y+2*this.vy),t.stroke()},e}(o.Sprite);e.Debris=h},function(t,e,i){"use strict";function n(t){var e=!1,i=!1;[!1,!0].forEach((function(n){document.addEventListener(n?"keydown":"keyup",(function(r){if(!r.repeat){switch(r.keyCode){case 90:e=n;break;case 88:i=n}t.velocity=e?-1:i?1:0}}))})),document.addEventListener("keydown",(function(e){if(!e.repeat&&77===e.keyCode)t.bullets.push(new s.Bullet(t.player,t.height-60))}))}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=i(2),s=i(3),h=i(4),a=document.querySelector("canvas"),u=document.querySelector("audio"),l={width:0,height:0,elapsed:0,volume:50,player:NaN,velocity:0,bullets:[],aliens:[],debris:[]};n(l),r.runSprites(l,a,(function(t){t.save(),t.fillStyle=t.strokeStyle="#0F0",t.lineWidth=2,t.clearRect(0,0,l.width,l.height);var e=10,i=200,n=50,s=l.height-(e+n),a=l.volume/100*i;t.globalAlpha=.5,t.fillRect(e,s,a,n),t.globalAlpha=1,t.strokeRect(e,s,i,n),t.textAlign="center",t.textBaseline="middle",t.font="18pt Helvetica",t.fillText(""+l.volume,e+i/2,s+n/2),isNaN(l.player)&&(l.player=l.width/2);var c=20,p=s-e;l.player=Math.max(c,Math.min(l.width-c,l.player+l.velocity*l.elapsed/2)),t.fillStyle="white",t.beginPath(),t.moveTo(l.player-c,p),t.lineTo(l.player,p-c),t.lineTo(l.player+c,p),t.closePath(),t.fill(),r.renderSprites(t,l.bullets,l);var f=20,d=1-l.aliens.length/f,y=.1*Math.max(0,Math.min(1,d));Math.random()<y&&l.aliens.push(new o.Alien(l)),r.renderSprites(t,l.aliens,l),r.hitTest(l,l.aliens,l.bullets,(function(t){l.volume=Math.max(0,Math.min(100,l.volume+(t.up?5:-5))),u.volume=l.volume/100;for(var e=0;e<5;e++)l.debris.push(new h.Debris(t));return!0})),t.strokeStyle="green",r.renderSprites(t,l.debris,l),t.restore()}))}]);